// Javascript plugins
// ==============================
// Make it safe to use console.log always
window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){var t=arguments,n;t.callee=t.callee.caller;n=[].slice.call(t);typeof console.log=="object"?log.apply.call(console.log,console,n):console.log.apply(console,n)}};(function(e){function t(){}for(var n="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),r;!!(r=n.pop());)e[r]=e[r]||t})(function(){try{console.log();return window.console}catch(e){return window.console={}}}());(function(e){e.fn.alterClass=function(t,n){var r=this;if(t.indexOf("*")===-1){r.removeClass(t);return n?r.addClass(n):r}var i=new RegExp("\\s"+t.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");r.each(function(t,n){var r=" "+n.className+" ";while(i.test(r))r=r.replace(i," ");n.className=e.trim(r)});return n?r.addClass(n):r}})(jQuery);(function(e){window.MBP=window.MBP||{};MBP.viewportmeta=e.querySelector&&e.querySelector('meta[name="viewport"]');MBP.ua=navigator.userAgent;MBP.scaleFix=function(){if(MBP.viewportmeta&&/iPhone|iPad|iPod/.test(MBP.ua)&&!/Opera Mini/.test(MBP.ua)){MBP.viewportmeta.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0";e.addEventListener("gesturestart",MBP.gestureStart,!1)}};MBP.gestureStart=function(){MBP.viewportmeta.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"};MBP.BODY_SCROLL_TOP=!1;MBP.getScrollTop=function(){var t=window,n=e;return t.pageYOffset||n.compatMode==="CSS1Compat"&&n.documentElement.scrollTop||n.body.scrollTop||0};MBP.hideUrlBar=function(){var e=window;!location.hash&&MBP.BODY_SCROLL_TOP!==!1&&e.scrollTo(0,MBP.BODY_SCROLL_TOP===1?0:1)};MBP.hideUrlBarOnLoad=function(){var e=window,t=e.document,n;if(!location.hash&&e.addEventListener){window.scrollTo(0,1);MBP.BODY_SCROLL_TOP=1;n=setInterval(function(){if(t.body){clearInterval(n);MBP.BODY_SCROLL_TOP=MBP.getScrollTop();MBP.hideUrlBar()}},15);e.addEventListener("load",function(){setTimeout(function(){MBP.getScrollTop()<20&&MBP.hideUrlBar()},0)})}};MBP.enableActive=function(){e.addEventListener("touchstart",function(){},!1)};MBP.preventScrolling=function(){e.addEventListener("touchmove",function(e){e.preventDefault()},!1)};MBP.preventZoom=function(){var t=e.querySelectorAll("input, select, textarea"),n="width=device-width,initial-scale=1,maximum-scale=",r=0;for(r=0;r<t.length;r++){t[r].onfocus=function(){MBP.viewportmeta.content=n+"1"};t[r].onblur=function(){MBP.viewportmeta.content=n+"10"}}}})(document);